{"version":3,"sources":["reducers/user.js","reducers/session.js","reducers/message.js","reducers/index.js","store/index.js","components/GlobalStyles.js","assets/logo.js","components/Firebase/firebase.js","components/Firebase/context.js","components/Firebase/index.js","components/SignOut/index.js","components/Navigation/index.js","constants/routes.js","components/Landing/index.js","components/SignUp/index.js","components/PasswordForget/index.js","components/SignIn/index.js","components/Participant/index.js","components/Room/index.js","components/Session/withAuthentication.js","components/Session/withAuthorization.js","components/Session/withEmailVerification.js","components/Messages/MessageItem.js","components/Messages/MessageList.js","components/Messages/Messages.js","components/Messages/index.js","components/Home/index.js","components/PasswordChange/index.js","components/Account/index.js","components/Users/UserList.js","components/Users/UserItem.js","components/Admin/index.js","history.js","components/App/index.js","index.js"],"names":["INITIAL_STATE","users","applySetUsers","state","action","applySetUser","uid","user","userReducer","type","authUser","applySetAuthUser","sessionReducer","messages","limit","applySetMessages","applySetMessagesLimit","messageReducer","rootReducer","combineReducers","sessionState","userState","messageState","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","GlobalStyles","createGlobalStyle","Logo","xmlns","viewBox","d","transform","config","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Firebase","doCreateUserWithEmailAndPassword","email","password","auth","createUserWithEmailAndPassword","doSignInWithEmailAndPassword","signInWithEmailAndPassword","doSignOut","signOut","doPasswordReset","sendPasswordResetEmail","doSendEmailVerification","currentUser","sendEmailVerification","url","doPasswordUpdate","updatePassword","onAuthUserListener","next","fallback","onAuthStateChanged","once","then","snapshot","dbUser","val","roles","emailVerified","providerData","db","ref","message","app","initializeApp","this","serverValue","database","ServerValue","emailAuthProvider","EmailAuthProvider","FirebaseContext","React","createContext","withFirebase","Component","props","Consumer","firebase","onClick","StyledMenu","styled","nav","open","StyledBurger","button","StyledHeader","header","Menu","Burger","setOpen","NavigationAuth","to","NavigationNonAuth","connect","useState","node","useRef","SignOut","Landing","username","passwordOne","passwordTwo","error","SignUpFormBase","onSubmit","event","set","setState","history","push","catch","code","preventDefault","onChange","target","name","value","isInvalid","placeholder","disabled","SignUpLink","SignUpForm","withRouter","SignUpPage","PasswordForgetFormBase","PasswordForgetLink","PasswordForgetPage","PasswordForgetForm","SignInFormBase","SignInForm","compose","SignInPage","Participant","participant","videoTracks","setVideoTracks","audioTracks","setAudioTracks","videoRef","audioRef","trackpubsToTracks","trackMap","Array","from","values","map","publication","track","filter","useEffect","on","kind","v","a","removeAllListeners","videoTrack","attach","current","detach","audioTrack","className","identity","autoPlay","muted","Room","roomName","token","room","setRoom","participants","setParticipants","participantConnected","prevParticipants","participantDisconnected","p","Video","forEach","currentRoom","localParticipant","tracks","trackPublication","stop","disconnect","remoteParticipants","key","sid","withAuthentication","WithAuthentication","onSetAuthUser","JSON","parse","localStorage","getItem","listener","setItem","stringify","removeItem","dispatch","withAuthorization","condition","WithAuthorization","withEmailVerification","WithEmailVerification","onSendEmailVerification","isSent","provider","providerId","includes","MessageItem","onToggleEditMode","editMode","editText","text","onChangeEditText","onSaveEditText","onEditMessage","onRemoveMessage","userId","editedAt","MessageList","Messages","onListenForMessages","orderByChild","limitToLast","onSetMessages","loading","onChangeText","onCreateMessage","createdAt","TIMESTAMP","messageSnapshot","remove","onNextPage","onSetMessagesLimit","length","off","Object","keys","HomePage","openVideoChat","roomOpen","renderVideoChat","PasswordChangeForm","PasswordChange","UserList","onSetUsers","UserItem","onSendPasswordResetEmail","onCreateRoom","fetch","method","body","split","join","headers","res","json","dataClient","match","params","id","dataHost","onSetUser","exact","path","component","createBrowserHistory","FlexWrapper","div","NavigationWrapper","ContentWrapper","LandingPage","AccountPage","AdminPage","ReactDOM","render","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.e33858c4.chunk.js","sourcesContent":["const INITIAL_STATE = {\n  users: null\n};\n\nconst applySetUsers = (state, action) => ({\n  ...state,\n  users: action.users\n});\n\nconst applySetUser = (state, action) => ({\n  ...state,\n  users: {\n    ...state.users,\n    [action.uid]: action.user\n  }\n});\n\nfunction userReducer(state = INITIAL_STATE, action) {\n  switch (action.type) {\n    case \"USERS_SET\": {\n      return applySetUsers(state, action);\n    }\n    case \"USER_SET\": {\n      return applySetUser(state, action);\n    }\n    default:\n      return state;\n  }\n}\n\nexport default userReducer;\n","const INITIAL_STATE = {\n  authUser: null\n};\n\nconst applySetAuthUser = (state, action) => ({\n  ...state,\n  authUser: action.authUser\n});\n\nfunction sessionReducer(state = INITIAL_STATE, action) {\n  switch (action.type) {\n    case \"AUTH_USER_SET\": {\n      return applySetAuthUser(state, action);\n    }\n    default:\n      return state;\n  }\n}\n\nexport default sessionReducer;\n","const INITIAL_STATE = {\n  messages: null,\n  limit: 5\n};\n\nconst applySetMessages = (state, action) => ({\n  ...state,\n  messages: action.messages\n});\n\nconst applySetMessagesLimit = (state, action) => ({\n  ...state,\n  limit: action.limit\n});\n\nfunction messageReducer(state = INITIAL_STATE, action) {\n  switch (action.type) {\n    case \"MESSAGES_SET\": {\n      return applySetMessages(state, action);\n    }\n    case \"MESSAGES_LIMIT_SET\": {\n      return applySetMessagesLimit(state, action);\n    }\n    default:\n      return state;\n  }\n}\n\nexport default messageReducer;\n","import { combineReducers } from \"redux\";\nimport userReducer from \"./user\";\nimport sessionReducer from \"./session\";\nimport messageReducer from \"./message\";\n\nconst rootReducer = combineReducers({\n  sessionState: sessionReducer,\n  userState: userReducer,\n  messageState: messageReducer\n});\n\nexport default rootReducer;\n","import { createStore } from \"redux\";\nimport rootReducer from \"../reducers\";\n\nconst store = createStore(\n  rootReducer,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nexport default store;\n","import { createGlobalStyle } from \"styled-components\";\n\nexport const GlobalStyles = createGlobalStyle`\n  *,\n  *::after,\n  *::before {\n    box-sizing: border-box;\n  }\n\n  @import url(\"https://fonts.googleapis.com/css?family=Montserrat|Roboto\");\n\n  body {\n    color: #c5986a;\n    font-family: Montserrat, sans-serif;\n    overflow-x:hidden;\n  }\n\n\n`;\n","import React from \"react\";\n\nexport const Logo = () => {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 186 44.227\">\n      <path\n        d=\"M88.413.413,88.207,0l-.413.207L66.713,8.68,45.427.207,45.22,0l-.207.413-.207.62-.207.413h.413L65.887,9.92V21.7L52.247,43.193l-.207.207.413.207.62.413.207.207.207-.413L66.713,23.147l13.02,20.667.207.413.413-.207.413-.413.413-.207-.207-.207L67.333,21.7V9.92l21.08-8.473h.413l-.207-.413Z\"\n        transform=\"translate(47.573)\"\n      ></path>\n      <path\n        d=\"M.413,5.3H0V6.747H7.647v21.7H9.093V6.747H16.74V5.3H.413Z\"\n        transform=\"translate(0 5.653)\"\n      ></path>\n      <path\n        d=\"M21.473,20.387a7.192,7.192,0,0,0,5.58-7.44c0-4.96-3.307-7.647-8.887-7.647H9.9V28.447h1.447V20.8H17.96a5.722,5.722,0,0,0,1.86-.207L25.4,28.24l.207.207h1.86l-.413-.62ZM11.347,6.747H17.96c4.753,0,7.44,2.273,7.44,6.2,0,4.133-2.687,6.407-7.44,6.407H11.347V6.747Z\"\n        transform=\"translate(10.56 5.653)\"\n      ></path>\n      <path\n        d=\"M38.367,5.3h-.413V18.94c0,5.167-2.893,8.06-7.853,8.06s-7.853-2.893-7.853-8.06V5.3H20.8V18.94c0,5.993,3.307,9.507,9.3,9.507s9.3-3.513,9.3-9.507V5.3H38.367Z\"\n        transform=\"translate(22.187 5.653)\"\n      ></path>\n      <path\n        d=\"M34.547,27V17.287h11.78V15.84H34.547V6.747H47.773V5.3H33.1V28.447H48.393V27H34.547Z\"\n        transform=\"translate(35.307 5.653)\"\n      ></path>\n      <path\n        d=\"M71.313,5.3H70.9V28.447h1.447V18.113H83.3V16.667H72.347V6.747h12.4V5.3H71.313Z\"\n        transform=\"translate(75.627 5.653)\"\n      ></path>\n      <path\n        d=\"M79.713,5.3H79.3V28.447h1.653V5.3h-1.24Z\"\n        transform=\"translate(84.587 5.653)\"\n      ></path>\n      <path\n        d=\"M98.333,5.3H81.8V6.747h7.853v21.7H91.1V6.747h7.647V5.3Z\"\n        transform=\"translate(87.253 5.653)\"\n      ></path>\n    </svg>\n  );\n};\n","import app from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/database\";\n\nconst config = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_APP_ID,\n  measurementId: process.env.REACT_APP_MEASUREMENT_ID\n};\n\nclass Firebase {\n  constructor() {\n    app.initializeApp(config);\n\n    /* Helper */\n\n    this.serverValue = app.database.ServerValue;\n    this.emailAuthProvider = app.auth.EmailAuthProvider;\n\n    /* Firebase APIs */\n\n    this.auth = app.auth();\n    this.db = app.database();\n  }\n\n  // *** Auth API ***\n\n  doCreateUserWithEmailAndPassword = (email, password) =>\n    this.auth.createUserWithEmailAndPassword(email, password);\n\n  doSignInWithEmailAndPassword = (email, password) =>\n    this.auth.signInWithEmailAndPassword(email, password);\n\n  doSignOut = () => this.auth.signOut();\n\n  doPasswordReset = email => this.auth.sendPasswordResetEmail(email);\n\n  doSendEmailVerification = () =>\n    this.auth.currentUser.sendEmailVerification({\n      url: process.env.REACT_APP_CONFIRMATION_EMAIL_REDIRECT\n    });\n\n  doPasswordUpdate = password => this.auth.currentUser.updatePassword(password);\n\n  // *** Merge Auth and DB User API *** //\n\n  onAuthUserListener = (next, fallback) =>\n    this.auth.onAuthStateChanged(authUser => {\n      if (authUser) {\n        this.user(authUser.uid)\n          .once(\"value\")\n          .then(snapshot => {\n            const dbUser = snapshot.val();\n\n            // default empty roles\n            if (!dbUser.roles) {\n              dbUser.roles = {};\n            }\n\n            // merge auth and db user\n            authUser = {\n              uid: authUser.uid,\n              email: authUser.email,\n              emailVerified: authUser.emailVerified,\n              providerData: authUser.providerData,\n              ...dbUser\n            };\n\n            next(authUser);\n          });\n      } else {\n        fallback();\n      }\n    });\n\n  // *** User API ***\n\n  user = uid => this.db.ref(`users/${uid}`);\n\n  users = () => this.db.ref(\"users\");\n\n  // *** Message API ***\n\n  message = uid => this.db.ref(`messages/${uid}`);\n\n  messages = () => this.db.ref(\"messages\");\n}\n\nexport default Firebase;\n","import React from \"react\";\n\nconst FirebaseContext = React.createContext(null);\n\nexport const withFirebase = Component => props => (\n  <FirebaseContext.Consumer>\n    {firebase => <Component {...props} firebase={firebase} />}\n  </FirebaseContext.Consumer>\n);\nexport default FirebaseContext;\n","import Firebase from \"./firebase\";\nimport FirebaseContext, { withFirebase } from \"./context\";\n\nexport default Firebase;\nexport { FirebaseContext, withFirebase };\n","import React from \"react\";\n\nimport { withFirebase } from \"../Firebase\";\n\nconst SignOutButton = ({ firebase }) => (\n  <button type=\"button\" onClick={firebase.doSignOut}>\n    Sign Out\n  </button>\n);\n\nexport default withFirebase(SignOutButton);\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n\nimport styled from \"styled-components\";\nimport { Logo } from \"../../assets/logo.js\";\nimport SignOutButton from \"../SignOut\";\nimport * as ROUTES from \"../../constants/routes\";\nimport * as ROLES from \"../../constants/roles\";\n\nconst StyledMenu = styled.nav`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  background: #effffa;\n  transform: ${({ open }) => (open ? \"translateX(0)\" : \"translateX(-100%)\")};\n  height: 100vh;\n  text-align: left;\n  padding: 2rem;\n  position: absolute;\n  top: 0;\n  left: 0;\n  transition: transform 0.3s ease-in-out;\n\n  @media (max-width: 576px) {\n    width: 100%;\n  }\n\n  a {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0d0c1d;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n    &:hover {\n      color: #343078;\n    }\n  }\n`;\n\nconst StyledBurger = styled.button`\n  position: absolute;\n  top: 5%;\n  left: 2rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  width: 2rem;\n  height: 2rem;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  padding: 0;\n  z-index: 10;\n\n  &:focus {\n    outline: none;\n  }\n\n  div {\n    width: 2rem;\n    height: 0.25rem;\n    background: #c5986a;\n    border-radius: 10px;\n    transition: all 0.3s linear;\n    position: relative;\n    transform-origin: 1px;\n\n    :first-child {\n      transform: ${({ open }) => (open ? \"rotate(45deg)\" : \"rotate(0)\")};\n    }\n\n    :nth-child(2) {\n      opacity: ${({ open }) => (open ? \"0\" : \"1\")};\n      transform: ${({ open }) => (open ? \"translateX(20px)\" : \"translateX(0)\")};\n    }\n\n    :nth-child(3) {\n      transform: ${({ open }) => (open ? \"rotate(-45deg)\" : \"rotate(0)\")};\n    }\n  }\n`;\n\nconst StyledHeader = styled.header`\n  width: 100vw;\n  height: 100%;\n  background-color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0px;\n  box-shadow: 0px -10px 20px black;\n  overflow: hidden;\n\n  ul {\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n\n    li {\n      margin: 0 10px 0 10px;\n    }\n  }\n\n  svg {\n    height: 50px;\n    width: 200px;\n\n    path {\n      fill: #c5986a;\n    }\n  }\n`;\n\nconst Menu = ({ open, authUser }) => {\n  return (\n    <StyledMenu open={open}>\n      <NavigationAuth authUser={authUser} />\n    </StyledMenu>\n  );\n};\n\nconst Burger = ({ open, setOpen }) => {\n  return (\n    <StyledBurger open={open} onClick={() => setOpen(!open)}>\n      <div />\n      <div />\n      <div />\n    </StyledBurger>\n  );\n};\n\nconst Navigation = ({ authUser }) => {\n  const [open, setOpen] = React.useState(false);\n  const node = React.useRef();\n\n  return authUser ? (\n    <StyledHeader>\n      <div ref={node}>\n        <Burger open={open} setOpen={setOpen} />\n        <Menu open={open} setOpen={setOpen} authUser={authUser} />\n      </div>\n      <Link to={ROUTES.LANDING}>\n        <Logo />\n      </Link>\n      <SignOutButton />\n    </StyledHeader>\n  ) : (\n    <StyledHeader>\n      <NavigationNonAuth />\n    </StyledHeader>\n  );\n};\n\nconst NavigationAuth = ({ authUser }) => (\n  <div>\n    <ul>\n      <li>\n        <Link to={ROUTES.HOME}>Home</Link>\n      </li>\n      <li>\n        <Link to={ROUTES.ACCOUNT}>Account</Link>\n      </li>\n      {!!authUser.roles[ROLES.ADMIN] && (\n        <li>\n          <Link to={ROUTES.ADMIN}>Admin</Link>\n        </li>\n      )}\n    </ul>\n  </div>\n);\n\nconst NavigationNonAuth = () => (\n  <ul>\n    <Link to={ROUTES.LANDING}>\n      <Logo />\n    </Link>\n    <li>\n      <Link to={ROUTES.SIGN_IN}>Sign In</Link>\n    </li>\n  </ul>\n);\n\nconst mapStateToProps = state => ({\n  authUser: state.sessionState.authUser\n});\n\nexport default connect(mapStateToProps)(Navigation);\n","export const LANDING = \"/\";\nexport const SIGN_UP = \"/signup\";\nexport const SIGN_IN = \"/signin\";\nexport const HOME = \"/home\";\nexport const ACCOUNT = \"/account\";\nexport const ADMIN = \"/admin\";\nexport const ADMIN_DETAILS = \"/admin/:id\";\nexport const PASSWORD_FORGET = \"/pw-forget\";\n","import React from \"react\";\n\nconst Landing = () => (\n  <div>\n    <h1>Landing</h1>\n  </div>\n);\n\nexport default Landing;\n","import React, { Component } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\n\nimport { withFirebase } from \"../Firebase\";\nimport * as ROUTES from \"../../constants/routes\";\n\nconst SignUpPage = () => (\n  <div>\n    <h1>SignUp</h1>\n    <SignUpForm />\n  </div>\n);\n\nconst INITIAL_STATE = {\n  username: \"\",\n  email: \"\",\n  passwordOne: \"\",\n  passwordTwo: \"\",\n  error: null\n};\n\nconst ERROR_CODE_ACCOUNT_EXISTS = \"auth/email-already-in-use\";\n\nconst ERROR_MSG_ACCOUNT_EXISTS = `\n  An account with this E-Mail address already exists.\n  Try to login with this account instead. If you think the\n  account is already used from one of the social logins, try\n  to sign in with one of them. Afterward, associate your accounts\n  on your personal account page.\n`;\n\nclass SignUpFormBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { ...INITIAL_STATE };\n  }\n\n  onSubmit = event => {\n    const { username, email, passwordOne } = this.state;\n\n    this.props.firebase\n      .doCreateUserWithEmailAndPassword(email, passwordOne)\n      .then(authUser => {\n        // Create a user in your Firebase realtime database\n        return this.props.firebase.user(authUser.user.uid).set({\n          username,\n          email\n        });\n      })\n      .then(() => {\n        return this.props.firebase.doSendEmailVerification();\n      })\n      .then(() => {\n        this.setState({ ...INITIAL_STATE });\n        this.props.history.push(ROUTES.HOME);\n      })\n      .catch(error => {\n        if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\n          error.message = ERROR_MSG_ACCOUNT_EXISTS;\n        }\n\n        this.setState({ error });\n      });\n\n    event.preventDefault();\n  };\n\n  onChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  render() {\n    const { username, email, passwordOne, passwordTwo, error } = this.state;\n\n    const isInvalid =\n      passwordOne !== passwordTwo ||\n      passwordOne === \"\" ||\n      email === \"\" ||\n      username === \"\";\n\n    return (\n      <form onSubmit={this.onSubmit}>\n        <input\n          name=\"username\"\n          value={username}\n          onChange={this.onChange}\n          type=\"text\"\n          placeholder=\"Full Name\"\n        />\n        <input\n          name=\"email\"\n          value={email}\n          onChange={this.onChange}\n          type=\"text\"\n          placeholder=\"Email Address\"\n        />\n        <input\n          name=\"passwordOne\"\n          value={passwordOne}\n          onChange={this.onChange}\n          type=\"password\"\n          placeholder=\"Password\"\n        />\n        <input\n          name=\"passwordTwo\"\n          value={passwordTwo}\n          onChange={this.onChange}\n          type=\"password\"\n          placeholder=\"Confirm Password\"\n        />\n        <button disabled={isInvalid} type=\"submit\">\n          Sign Up\n        </button>\n\n        {error && <p>{error.message}</p>}\n      </form>\n    );\n  }\n}\n\nconst SignUpLink = () => (\n  <p>\n    Don't have an account? <Link to={ROUTES.SIGN_UP}>Sign Up</Link>\n  </p>\n);\n\nconst SignUpForm = withRouter(withFirebase(SignUpFormBase));\n\nexport default SignUpPage;\n\nexport { SignUpForm, SignUpLink };\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { withFirebase } from \"../Firebase\";\nimport * as ROUTES from \"../../constants/routes\";\n\nconst PasswordForgetPage = () => (\n  <div>\n    <h1>PasswordForget</h1>\n    <PasswordForgetForm />\n  </div>\n);\n\nconst INITIAL_STATE = {\n  email: \"\",\n  error: null\n};\n\nclass PasswordForgetFormBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { ...INITIAL_STATE };\n  }\n\n  onSubmit = event => {\n    const { email } = this.state;\n\n    this.props.firebase\n      .doPasswordReset(email)\n      .then(() => {\n        this.setState({ ...INITIAL_STATE });\n      })\n      .catch(error => {\n        this.setState({ error });\n      });\n\n    event.preventDefault();\n  };\n\n  onChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  render() {\n    const { email, error } = this.state;\n\n    const isInvalid = email === \"\";\n\n    return (\n      <form onSubmit={this.onSubmit}>\n        <input\n          name=\"email\"\n          value={this.state.email}\n          onChange={this.onChange}\n          type=\"text\"\n          placeholder=\"Email Address\"\n        />\n        <button disabled={isInvalid} type=\"submit\">\n          Reset My Password\n        </button>\n\n        {error && <p>{error.message}</p>}\n      </form>\n    );\n  }\n}\n\nconst PasswordForgetLink = () => (\n  <p>\n    <Link to={ROUTES.PASSWORD_FORGET}>Forgot Password?</Link>\n  </p>\n);\n\nexport default PasswordForgetPage;\n\nconst PasswordForgetForm = withFirebase(PasswordForgetFormBase);\n\nexport { PasswordForgetForm, PasswordForgetLink };\n","import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { compose } from \"recompose\";\n\nimport { SignUpLink } from \"../SignUp\";\nimport { PasswordForgetLink } from \"../PasswordForget\";\nimport { withFirebase } from \"../Firebase\";\nimport * as ROUTES from \"../../constants/routes\";\n\nconst SignInPage = () => (\n  <div>\n    <h1>SignIn</h1>\n    <SignInForm />\n    <PasswordForgetLink />\n    <SignUpLink />\n  </div>\n);\n\nconst INITIAL_STATE = {\n  email: \"\",\n  password: \"\",\n  error: null\n};\n\nclass SignInFormBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { ...INITIAL_STATE };\n  }\n\n  onSubmit = event => {\n    const { email, password } = this.state;\n\n    this.props.firebase\n      .doSignInWithEmailAndPassword(email, password)\n      .then(() => {\n        this.setState({ ...INITIAL_STATE });\n        this.props.history.push(ROUTES.HOME);\n      })\n      .catch(error => {\n        this.setState({ error });\n      });\n\n    event.preventDefault();\n  };\n\n  onChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  render() {\n    const { email, password, error } = this.state;\n\n    const isInvalid = password === \"\" || email === \"\";\n\n    return (\n      <form onSubmit={this.onSubmit}>\n        <input\n          name=\"email\"\n          value={email}\n          onChange={this.onChange}\n          type=\"text\"\n          placeholder=\"Email Address\"\n        />\n        <input\n          name=\"password\"\n          value={password}\n          onChange={this.onChange}\n          type=\"password\"\n          placeholder=\"Password\"\n        />\n        <button disabled={isInvalid} type=\"submit\">\n          Sign In\n        </button>\n\n        {error && <p>{error.message}</p>}\n      </form>\n    );\n  }\n}\n\nconst SignInForm = compose(withRouter, withFirebase)(SignInFormBase);\n\nexport default SignInPage;\n\nexport { SignInForm };\n","import React, { useState, useEffect, useRef } from \"react\";\n\nconst Participant = ({ participant }) => {\n  const [videoTracks, setVideoTracks] = useState([]);\n  const [audioTracks, setAudioTracks] = useState([]);\n\n  const videoRef = useRef();\n  const audioRef = useRef();\n\n  const trackpubsToTracks = trackMap =>\n    Array.from(trackMap.values())\n      .map(publication => publication.track)\n      .filter(track => track !== null);\n\n  useEffect(() => {\n    setVideoTracks(trackpubsToTracks(participant.videoTracks));\n    setAudioTracks(trackpubsToTracks(participant.audioTracks));\n\n    const trackSubscribed = track => {\n      if (track.kind === \"video\") {\n        setVideoTracks(videoTracks => [...videoTracks, track]);\n      } else {\n        setAudioTracks(audioTracks => [...audioTracks, track]);\n      }\n    };\n\n    const trackUnsubscribed = track => {\n      if (track.kind === \"video\") {\n        setVideoTracks(videoTracks => videoTracks.filter(v => v !== track));\n      } else {\n        setAudioTracks(audioTracks => audioTracks.filter(a => a !== track));\n      }\n    };\n\n    participant.on(\"trackSubscribed\", trackSubscribed);\n    participant.on(\"trackUnsubscribed\", trackUnsubscribed);\n\n    return () => {\n      setVideoTracks([]);\n      setAudioTracks([]);\n      participant.removeAllListeners();\n    };\n  }, [participant]);\n\n  useEffect(() => {\n    const videoTrack = videoTracks[0];\n    if (videoTrack) {\n      videoTrack.attach(videoRef.current);\n      return () => {\n        videoTrack.detach();\n      };\n    }\n  }, [videoTracks]);\n\n  useEffect(() => {\n    const audioTrack = audioTracks[0];\n    if (audioTrack) {\n      audioTrack.attach(audioRef.current);\n      return () => {\n        audioTrack.detach();\n      };\n    }\n  }, [audioTracks]);\n\n  return (\n    <div className=\"participant\">\n      <h3>{participant.identity}</h3>\n      <video ref={videoRef} autoPlay={true} />\n      <audio ref={audioRef} autoPlay={true} muted={true} />\n    </div>\n  );\n};\n\nexport default Participant;\n","import React, { useState, useEffect } from \"react\";\nimport Video from \"twilio-video\";\nimport Participant from \"../Participant\";\n\nconst Room = ({ roomName, token }) => {\n  const [room, setRoom] = useState(null);\n  const [participants, setParticipants] = useState([]);\n\n  useEffect(() => {\n    const participantConnected = participant => {\n      setParticipants(prevParticipants => [...prevParticipants, participant]);\n    };\n\n    const participantDisconnected = participant => {\n      setParticipants(prevParticipants =>\n        prevParticipants.filter(p => p !== participant)\n      );\n    };\n\n    Video.connect(token, {\n      name: roomName\n    }).then(room => {\n      setRoom(room);\n      room.on(\"participantConnected\", participantConnected);\n      room.on(\"participantDisconnected\", participantDisconnected);\n      room.participants.forEach(participantConnected);\n    });\n\n    return () => {\n      setRoom(currentRoom => {\n        if (currentRoom && currentRoom.localParticipant.state === \"connected\") {\n          currentRoom.localParticipant.tracks.forEach(function(\n            trackPublication\n          ) {\n            trackPublication.track.stop();\n          });\n          currentRoom.disconnect();\n          return null;\n        } else {\n          return currentRoom;\n        }\n      });\n    };\n  }, [roomName, token]);\n\n  const remoteParticipants = participants.map(participant => (\n    <Participant key={participant.sid} participant={participant} />\n  ));\n\n  return (\n    <div className=\"room\">\n      <h2>Room: {roomName}</h2>\n      <div className=\"local-participant\">\n        {room ? (\n          <Participant\n            key={room.localParticipant.sid}\n            participant={room.localParticipant}\n          />\n        ) : (\n          \"\"\n        )}\n      </div>\n      <h3>Remote Participants</h3>\n      <div className=\"remote-participants\">{remoteParticipants}</div>\n    </div>\n  );\n};\n\nexport default Room;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { compose } from \"recompose\";\n\nimport { withFirebase } from \"../Firebase\";\n\nconst withAuthentication = Component => {\n  class WithAuthentication extends React.Component {\n    constructor(props) {\n      super(props);\n\n      this.props.onSetAuthUser(JSON.parse(localStorage.getItem(\"authUser\")));\n    }\n\n    componentDidMount() {\n      this.listener = this.props.firebase.onAuthUserListener(\n        authUser => {\n          localStorage.setItem(\"authUser\", JSON.stringify(authUser));\n          this.props.onSetAuthUser(authUser);\n        },\n        () => {\n          localStorage.removeItem(\"authUser\");\n          this.props.onSetAuthUser(null);\n        }\n      );\n    }\n\n    componentWillUnmount() {\n      this.listener();\n    }\n\n    render() {\n      return <Component {...this.props} />;\n    }\n  }\n\n  const mapDispatchToProps = dispatch => ({\n    onSetAuthUser: authUser => dispatch({ type: \"AUTH_USER_SET\", authUser })\n  });\n\n  return compose(\n    withFirebase,\n    connect(null, mapDispatchToProps)\n  )(WithAuthentication);\n};\n\nexport default withAuthentication;\n","import React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { compose } from \"recompose\";\n\nimport { withFirebase } from \"../Firebase\";\nimport * as ROUTES from \"../../constants/routes\";\n\nconst withAuthorization = condition => Component => {\n  class WithAuthorization extends React.Component {\n    componentDidMount() {\n      this.listener = this.props.firebase.onAuthUserListener(\n        authUser => {\n          if (!condition(authUser)) {\n            this.props.history.push(ROUTES.SIGN_IN);\n          }\n        },\n        () => this.props.history.push(ROUTES.SIGN_IN)\n      );\n    }\n\n    componentWillUnmount() {\n      this.listener();\n    }\n\n    render() {\n      return condition(this.props.authUser) ? (\n        <Component {...this.props} />\n      ) : null;\n    }\n  }\n\n  const mapStateToProps = state => ({\n    authUser: state.sessionState.authUser\n  });\n\n  return compose(\n    withRouter,\n    withFirebase,\n    connect(mapStateToProps)\n  )(WithAuthorization);\n};\n\nexport default withAuthorization;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { compose } from \"recompose\";\n\nimport { withFirebase } from \"../Firebase\";\n\nconst needsEmailVerification = authUser =>\n  authUser &&\n  !authUser.emailVerified &&\n  authUser.providerData\n    .map(provider => provider.providerId)\n    .includes(\"password\");\n\nconst withEmailVerification = Component => {\n  class WithEmailVerification extends React.Component {\n    constructor(props) {\n      super(props);\n\n      this.state = { isSent: false };\n    }\n\n    onSendEmailVerification = () => {\n      this.props.firebase\n        .doSendEmailVerification()\n        .then(() => this.setState({ isSent: true }));\n    };\n\n    render() {\n      return needsEmailVerification(this.props.authUser) ? (\n        <div>\n          {this.state.isSent ? (\n            <p>\n              E-Mail confirmation sent: Check you E-Mails (Spam folder included)\n              for a confirmation E-Mail. Refresh this page once you confirmed\n              your E-Mail.\n            </p>\n          ) : (\n            <p>\n              Verify your E-Mail: Check you E-Mails (Spam folder included) for a\n              confirmation E-Mail or send another confirmation E-Mail.\n            </p>\n          )}\n\n          <button\n            type=\"button\"\n            onClick={this.onSendEmailVerification}\n            disabled={this.state.isSent}\n          >\n            Send confirmation E-Mail\n          </button>\n        </div>\n      ) : (\n        <Component {...this.props} />\n      );\n    }\n  }\n\n  const mapStateToProps = state => ({\n    authUser: state.sessionState.authUser\n  });\n\n  return compose(withFirebase, connect(mapStateToProps))(WithEmailVerification);\n};\n\nexport default withEmailVerification;\n","import React, { Component } from \"react\";\n\nclass MessageItem extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      editMode: false,\n      editText: this.props.message.text\n    };\n  }\n\n  onToggleEditMode = () => {\n    this.setState(state => ({\n      editMode: !state.editMode,\n      editText: this.props.message.text\n    }));\n  };\n\n  onChangeEditText = event => {\n    this.setState({ editText: event.target.value });\n  };\n\n  onSaveEditText = () => {\n    this.props.onEditMessage(this.props.message, this.state.editText);\n\n    this.setState({ editMode: false });\n  };\n\n  render() {\n    const { authUser, message, onRemoveMessage } = this.props;\n    const { editMode, editText } = this.state;\n\n    return (\n      <li>\n        {editMode ? (\n          <input\n            type=\"text\"\n            value={editText}\n            onChange={this.onChangeEditText}\n          />\n        ) : (\n          <span>\n            <strong>{message.userId}</strong> {message.text}\n            {message.editedAt && <span>(Edited)</span>}\n          </span>\n        )}\n\n        {authUser.uid === message.userId && (\n          <span>\n            {editMode ? (\n              <span>\n                <button onClick={this.onSaveEditText}>Save</button>\n                <button onClick={this.onToggleEditMode}>Reset</button>\n              </span>\n            ) : (\n              <button onClick={this.onToggleEditMode}>Edit</button>\n            )}\n\n            {!editMode && (\n              <button\n                type=\"button\"\n                onClick={() => onRemoveMessage(message.uid)}\n              >\n                Delete\n              </button>\n            )}\n          </span>\n        )}\n      </li>\n    );\n  }\n}\n\nexport default MessageItem;\n","import React from \"react\";\n\nimport MessageItem from \"./MessageItem\";\n\nconst MessageList = ({\n  authUser,\n  messages,\n  onEditMessage,\n  onRemoveMessage\n}) => (\n  <ul>\n    {messages.map(message => (\n      <MessageItem\n        authUser={authUser}\n        key={message.uid}\n        message={message}\n        onEditMessage={onEditMessage}\n        onRemoveMessage={onRemoveMessage}\n      />\n    ))}\n  </ul>\n);\n\nexport default MessageList;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { compose } from \"recompose\";\n\nimport { withFirebase } from \"../Firebase\";\nimport MessageList from \"./MessageList\";\n\nclass Messages extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      text: \"\",\n      loading: false\n    };\n  }\n\n  componentDidMount() {\n    if (!this.props.messages.length) {\n      this.setState({ loading: true });\n    }\n\n    this.onListenForMessages();\n  }\n\n  componentDidUpdate(props) {\n    if (props.limit !== this.props.limit) {\n      this.onListenForMessages();\n    }\n  }\n\n  onListenForMessages = () => {\n    this.props.firebase\n      .messages()\n      .orderByChild(\"createdAt\")\n      .limitToLast(this.props.limit)\n      .on(\"value\", snapshot => {\n        this.props.onSetMessages(snapshot.val());\n\n        this.setState({ loading: false });\n      });\n  };\n\n  componentWillUnmount() {\n    this.props.firebase.messages().off();\n  }\n\n  onChangeText = event => {\n    this.setState({ text: event.target.value });\n  };\n\n  onCreateMessage = (event, authUser) => {\n    this.props.firebase.messages().push({\n      text: this.state.text,\n      userId: authUser.uid,\n      createdAt: this.props.firebase.serverValue.TIMESTAMP\n    });\n\n    this.setState({ text: \"\" });\n\n    event.preventDefault();\n  };\n\n  onEditMessage = (message, text) => {\n    const { uid, ...messageSnapshot } = message;\n\n    this.props.firebase.message(message.uid).set({\n      ...messageSnapshot,\n      text,\n      editedAt: this.props.firebase.serverValue.TIMESTAMP\n    });\n  };\n\n  onRemoveMessage = uid => {\n    this.props.firebase.message(uid).remove();\n  };\n\n  onNextPage = () => {\n    this.props.onSetMessagesLimit(this.props.limit + 5);\n  };\n\n  render() {\n    const { messages } = this.props;\n    const { text, loading } = this.state;\n\n    return (\n      <div>\n        {!loading && messages && (\n          <button type=\"button\" onClick={this.onNextPage}>\n            More\n          </button>\n        )}\n\n        {loading && <div>Loading ...</div>}\n\n        {messages && (\n          <MessageList\n            authUser={this.props.authUser}\n            messages={messages}\n            onEditMessage={this.onEditMessage}\n            onRemoveMessage={this.onRemoveMessage}\n          />\n        )}\n\n        {!messages && <div>There are no messages ...</div>}\n\n        <form\n          onSubmit={event => this.onCreateMessage(event, this.props.authUser)}\n        >\n          <input type=\"text\" value={text} onChange={this.onChangeText} />\n          <button type=\"submit\">Send</button>\n        </form>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  authUser: state.sessionState.authUser,\n  messages: Object.keys(state.messageState.messages || {}).map(key => ({\n    ...state.messageState.messages[key],\n    uid: key\n  })),\n  limit: state.messageState.limit\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onSetMessages: messages => dispatch({ type: \"MESSAGES_SET\", messages }),\n  onSetMessagesLimit: limit => dispatch({ type: \"MESSAGES_LIMIT_SET\", limit })\n});\n\nexport default compose(\n  withFirebase,\n  connect(mapStateToProps, mapDispatchToProps)\n)(Messages);\n","import Messages from \"./Messages\";\n\nexport default Messages;\n","import React from \"react\";\nimport { compose } from \"recompose\";\nimport { connect } from \"react-redux\";\nimport VideoChat from \"../VideoChat\";\nimport Room from \"../Room\";\n\nimport { withFirebase } from \"../Firebase\";\nimport { withAuthorization, withEmailVerification } from \"../Session\";\nimport Messages from \"../Messages\";\n\nclass HomePage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { token: \"\", room: \"\", roomOpen: false };\n  }\n\n  componentDidMount() {\n    this.props.firebase\n      .user(this.props.authUser.uid)\n      .once(\"value\", snapshot => {\n        this.setState({\n          token: snapshot.val().token,\n          room: snapshot.val().roomName\n        });\n      });\n  }\n\n  openVideoChat = () => {\n    this.setState({ roomOpen: true });\n  };\n\n  renderVideoChat = () => {\n    if (this.state.token) {\n      return <button onClick={this.openVideoChat}>VideoChat</button>;\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <h1>Home Page</h1>\n        {this.renderVideoChat()}\n        <p>The Home Page is accessible by every signed in user.</p>\n        {this.state.roomOpen ? (\n          <Room roomName={this.state.room} token={this.state.token} />\n        ) : (\n          <div>\n            <h2>Video Room not open</h2>\n          </div>\n        )}\n        <Messages />\n      </div>\n    );\n  }\n}\nconst condition = authUser => !!authUser;\n\nconst mapStateToProps = state => ({\n  authUser: state.sessionState.authUser\n});\n\nexport default compose(\n  connect(mapStateToProps),\n  withFirebase,\n  withEmailVerification,\n  withAuthorization(condition)\n)(HomePage);\n","import React, { Component } from \"react\";\n\nimport { withFirebase } from \"../Firebase\";\n\nconst INITIAL_STATE = {\n  passwordOne: \"\",\n  passwordTwo: \"\",\n  error: null\n};\n\nclass PasswordChangeForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { ...INITIAL_STATE };\n  }\n\n  onSubmit = event => {\n    const { passwordOne } = this.state;\n\n    this.props.firebase\n      .doPasswordUpdate(passwordOne)\n      .then(() => {\n        this.setState({ ...INITIAL_STATE });\n      })\n      .catch(error => {\n        this.setState({ error });\n      });\n\n    event.preventDefault();\n  };\n\n  onChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  render() {\n    const { passwordOne, passwordTwo, error } = this.state;\n\n    const isInvalid = passwordOne !== passwordTwo || passwordOne === \"\";\n\n    return (\n      <form onSubmit={this.onSubmit}>\n        <input\n          name=\"passwordOne\"\n          value={passwordOne}\n          onChange={this.onChange}\n          type=\"password\"\n          placeholder=\"New Password\"\n        />\n        <input\n          name=\"passwordTwo\"\n          value={passwordTwo}\n          onChange={this.onChange}\n          type=\"password\"\n          placeholder=\"Confirm New Password\"\n        />\n        <button disabled={isInvalid} type=\"submit\">\n          Reset My Password\n        </button>\n\n        {error && <p>{error.message}</p>}\n      </form>\n    );\n  }\n}\n\nexport default withFirebase(PasswordChangeForm);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { compose } from \"recompose\";\n\nimport { withAuthorization, withEmailVerification } from \"../Session\";\nimport PasswordChangeForm from \"../PasswordChange\";\n\nconst AccountPage = ({ authUser }) => (\n  <div>\n    <h1>Account: {authUser.email}</h1>\n    <PasswordChangeForm />\n  </div>\n);\n\nconst mapStateToProps = state => ({\n  authUser: state.sessionState.authUser\n});\n\nconst condition = authUser => !!authUser;\n\nexport default compose(\n  connect(mapStateToProps),\n  withEmailVerification,\n  withAuthorization(condition)\n)(AccountPage);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { compose } from \"recompose\";\n\nimport { withFirebase } from \"../Firebase\";\nimport * as ROUTES from \"../../constants/routes\";\n\nclass UserList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: false\n    };\n  }\n\n  componentDidMount() {\n    if (!this.props.users.length) {\n      this.setState({ loading: true });\n    }\n\n    this.props.firebase.users().on(\"value\", snapshot => {\n      this.props.onSetUsers(snapshot.val());\n\n      this.setState({ loading: false });\n    });\n  }\n\n  componentWillUnmount() {\n    this.props.firebase.users().off();\n  }\n\n  render() {\n    const { users } = this.props;\n    const { loading } = this.state;\n\n    return (\n      <div>\n        <h2>Users</h2>\n        {loading && <div>Loading ...</div>}\n        <ul>\n          {users.map(user => (\n            <li key={user.uid}>\n              <span>\n                <strong>ID:</strong> {user.uid}\n              </span>\n              <span>\n                <strong>E-Mail:</strong> {user.email}\n              </span>\n              <span>\n                <strong>Name:</strong> {user.username}\n              </span>\n              <span>\n                <Link to={`${ROUTES.ADMIN}/${user.uid}`}>Details</Link>\n              </span>\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  users: Object.keys(state.userState.users || {}).map(key => ({\n    ...state.userState.users[key],\n    uid: key\n  }))\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onSetUsers: users => dispatch({ type: \"USERS_SET\", users })\n});\n\nexport default compose(\n  withFirebase,\n  connect(mapStateToProps, mapDispatchToProps)\n)(UserList);\n","import React, { Component, useCallback } from \"react\";\nimport { connect } from \"react-redux\";\nimport { compose } from \"recompose\";\n\nimport { withFirebase } from \"../Firebase\";\n\nclass UserItem extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: false,\n      token: \"\"\n    };\n  }\n\n  componentDidMount() {\n    if (!this.props.user) {\n      this.setState({ loading: true });\n    }\n\n    this.props.firebase\n      .user(this.props.match.params.id)\n      .on(\"value\", snapshot => {\n        this.props.onSetUser(snapshot.val(), this.props.match.params.id);\n\n        this.setState({ loading: false });\n      });\n  }\n\n  componentWillUnmount() {\n    this.props.firebase.user(this.props.match.params.id).off();\n  }\n\n  onSendPasswordResetEmail = () => {\n    this.props.firebase.doPasswordReset(this.props.user.email);\n  };\n\n  onCreateRoom = async event => {\n    event.preventDefault();\n\n    const dataClient = await fetch(\"/video/token\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        identity: this.props.user.username.split(\" \").join(\"\"),\n        room: this.props.user.username\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => res.json());\n\n    this.props.firebase.user(this.props.match.params.id).set({\n      ...this.props.user,\n      token: dataClient.token,\n      roomName: this.props.user.username\n    });\n\n    const dataHost = await fetch(\"/video/token\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        identity: this.props.authUser.username.split(\" \").join(\"\"),\n        room: this.props.user.username\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => res.json());\n\n    this.props.firebase.user(this.props.authUser.uid).set({\n      ...this.props.user,\n      token: dataHost.token,\n      roomName: this.props.user.username\n    });\n  };\n\n  render() {\n    const { user } = this.props;\n    const { loading } = this.state;\n\n    return (\n      <div>\n        <h2>User ({this.props.match.params.id})</h2>\n        {loading && <div>Loading ...</div>}\n\n        {user && (\n          <div>\n            <span>\n              <strong>ID:</strong> {user.uid}\n            </span>\n            <span>\n              <strong>E-Mail:</strong> {user.email}\n            </span>\n            <span>\n              <strong>Username:</strong> {user.username}\n            </span>\n            <span>\n              <button type=\"button\" onClick={this.onSendPasswordResetEmail}>\n                Passwort zurücksetzen\n              </button>\n              <button type=\"button\" onClick={this.onCreateRoom}>\n                VideoChat starten\n              </button>\n            </span>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, props) => ({\n  user: (state.userState.users || {})[props.match.params.id],\n  authUser: state.sessionState.authUser\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onSetUser: (user, uid) => dispatch({ type: \"USER_SET\", user, uid })\n});\n\nexport default compose(\n  withFirebase,\n  connect(mapStateToProps, mapDispatchToProps)\n)(UserItem);\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport { compose } from \"recompose\";\n\nimport { withAuthorization, withEmailVerification } from \"../Session\";\n\nimport { UserList, UserItem } from \"../Users\";\nimport * as ROLES from \"../../constants/roles\";\nimport * as ROUTES from \"../../constants/routes\";\n\nconst AdminPage = () => {\n  return (\n    <div>\n      <h1>Admin</h1>\n      <p>The Admin Page is accessible by every signed in admin user.</p>\n\n      <Switch>\n        <Route exact path={ROUTES.ADMIN_DETAILS} component={UserItem} />\n        <Route exact path={ROUTES.ADMIN} component={UserList} />\n      </Switch>\n    </div>\n  );\n};\n\nconst condition = authUser => authUser && !!authUser.roles[ROLES.ADMIN];\n\nexport default compose(\n  withEmailVerification,\n  withAuthorization(condition)\n)(AdminPage);\n","import { createBrowserHistory } from \"history\";\nexport default createBrowserHistory();\n","import React from \"react\";\nimport { Router, Route, Switch } from \"react-router-dom\";\nimport { GlobalStyles } from \"../GlobalStyles\";\nimport styled from \"styled-components\";\n\nimport Navigation from \"../Navigation\";\nimport LandingPage from \"../Landing\";\nimport SignUpPage from \"../SignUp\";\nimport SignInPage from \"../SignIn\";\nimport PasswordForgetPage from \"../PasswordForget\";\nimport HomePage from \"../Home\";\nimport AccountPage from \"../Account\";\nimport AdminPage from \"../Admin\";\n\nimport history from \"../../history\";\nimport * as ROUTES from \"../../constants/routes\";\nimport { withAuthentication } from \"../Session\";\n\nconst FlexWrapper = styled.div`\n  display: flex;\n  width: 100vw;\n  height: 100vh;\n`;\n\nconst NavigationWrapper = styled.div`\n  display: flex;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 70px;\n`;\n\nconst ContentWrapper = styled.div`\n  display: flex;\n  width: 100vw;\n  height: 100%;\n  margin-top: 150px;\n  justify-content: center;\n`;\n\nconst App = () => {\n  return (\n    <>\n      <Router history={history}>\n        <GlobalStyles />\n        <FlexWrapper>\n          <NavigationWrapper>\n            <Navigation />\n          </NavigationWrapper>\n          <ContentWrapper>\n            <Switch>\n              <Route exact path={ROUTES.LANDING} component={LandingPage} />\n              <Route path={ROUTES.SIGN_UP} component={SignUpPage} />\n              <Route path={ROUTES.SIGN_IN} component={SignInPage} />\n              <Route\n                path={ROUTES.PASSWORD_FORGET}\n                component={PasswordForgetPage}\n              />\n              <Route path={ROUTES.HOME} component={HomePage} />\n              <Route path={ROUTES.ACCOUNT} component={AccountPage} />\n              <Route path={ROUTES.ADMIN} component={AdminPage} />\n            </Switch>\n          </ContentWrapper>\n        </FlexWrapper>\n      </Router>\n    </>\n  );\n};\n\nexport default withAuthentication(App);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\n\nimport store from \"./store\";\nimport App from \"./components/App\";\nimport Firebase, { FirebaseContext } from \"./components/Firebase\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <FirebaseContext.Provider value={new Firebase()}>\n      <App />\n    </FirebaseContext.Provider>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}